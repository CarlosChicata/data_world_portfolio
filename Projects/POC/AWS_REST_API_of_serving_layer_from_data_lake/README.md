# Case 1: REST API of serving layer stored from data lake in AWS 

## Purpose and warning

I have a data model ready to be consumed for several users and apps. This model is stored in data lake by data architect decision. So you have a specified queries that are consumed the most of users in your case; so then i wanna implement a REST API to give access this users.

My acceptance criterias are:

* Management of access in specified endpoints in API by users.
* Management a validation credentials to autenticate the usage of API.
* Management of access of data in data model associated this specified client.
* Mecanism to read data based of data model from data lake.
* Mecanism to apply anonimization in sensitive data of data model. (optional)

## Note about the problem context

There are some point you need to know to understand better the problem:

First, this is the data model to extract data. This is a galaxy schema from dimensional data modelling. The theme of the serving data layer is about logistic delivery of product. **Note**: don't focus in design of data model, i don't focus to be correct design to check if the model effects someway the POC case.

![Data model](https://github.com/CarlosChicata/data_world_portfolio/blob/main/Projects/POC/AWS_REST_API_of_serving_layer_from_data_lake/POC%20serving%20layer%20-%20data%20model.png)

Second, this is the list of common queries will be consumed by our clients:

1. Get all orders a datetime range.
2. Get all money generated by the routes and detailed in range of datetime.
3. Get the most visited location from the trackcodes in range of datetime.
4. The number of trackcode generated based date in range of datetime.
5. The number of orders by code generated during a date range.
6. The number of trackcodes lost.
7. The most required service using during a date range.
8. Get billing generated in date range.
9. Check how many orders are success delivery before the promise time in date range.


## Challenges

These are the main challenges to face:

1. We need to check if the user's token is authorized to access the request's endpoint.
2. We need to check if the user's token is validated to use.
3. We need to check the same endpoint from different roles gave the correct data based in rol.
4. Make a Custom validations in AWS gateway for 1-2 points.
5. Make a custom queries parameters in AWS Athena based in specified role.
6. Apply anonimization technique in data during the process.

## Solution

What i did to complete the goal and explain why i decided it.

# Topic issues

Money, design of solution, performance, scalability, possible problems and limitations of solution.


